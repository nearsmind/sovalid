"use strict";!function(e){function r(e){function r(){console.log(":::RULES:::"),console.log(O),console.log(":::FUNCTIONS:::"),console.log(q),console.log(":::VALIDATION PARTS:::"),console.log(T)}function n(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function t(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){if(void 0===e)return!1;var r=+e;return isNaN(r)?!!String(e).toLowerCase().replace(!1,""):!!r}function i(e){return"string"==typeof e}function u(e){return"function"==typeof e}function o(e,r,n){if(!r||!i(r)||!r.trim().length>0)return void 0;var t=r.split("."),a=e;if(t&&t.length>1)for(var u in t)a=a[t[u]];else a=e[t[0]];return!a&&n?n:a}function l(e,r){return e&&r&&(O[e]=r),S}function s(e){return delete O[e],S}function d(e,r){return e&&r&&(q[e]=r),S}function v(e,r){return e&&r&&(T[e]={props:r}),S}function f(e){return T[e]?!0:!1}function c(e){return y=e,S}function p(e){function r(){f={required:!1,global:!1,validationRules:{},activeDepends:[],passiveDepends:[]}}function a(){return r(),c}function i(e,r,a){return f.validationRules[e]=n(r)&&t(r)?{fn:e,params:r,steps:a}:{fn:e,params:{value:r},steps:a},c}function u(e){return delete f.validationRules[e],c}function o(e){return f.global=e,c}function l(e,r){return f.required=e,f.requiredSteps=r,c}function s(e,r,n){return f.activeDepends.push({prop:e,value:r,operand:n}),c}function d(e,r,n,t){return f.passiveDepends.push({prop:e,value:r,mustBeValid:n,operand:t}),c}function v(r){return r&&T[r]&&T[r].props.push(e),O[e]=f,S}var f,c={required:l,r:l,make:v,addValidation:i,av:i,deleteValidation:u,dv:u,addActiveDepends:s,aad:s,addPassiveDepends:d,apd:d,global:o,g:o,reset:a};return function(){O[e]?f=O[e]:r()}(),c}function g(e,r,t){function l(e){var r=typeof e;return"boolean"!==r||null!==e&&void 0!==e?!("number"!==r&&"boolean"!==r&&(!e||i(e)&&""===e.trim())):!1}function s(e){var r=o(y,e.prop);if("number"==typeof e.value&&(""===r||void 0===r||null===r))return!1;switch("boolean"==typeof e.value&&(r=a(r)),e.operand){case w.greaterThan:return r>e.value;case w.greaterThanOrEqual:return r>=e.value;case w.lowerThan:return r<e.value;case w.lowerThanOrEqual:return r<=e.value;case w.equal:return r==e.value;case w.strictlyEqual:return r===e.value;case w.different:return r!=e.value;case w.strictlyDifferent:default:return r!==e.value}}function d(){if(e.global||void 0!==r&&null!==r)for(var a in e.validationRules)if(e.validationRules.hasOwnProperty(a)&&v(t,e.validationRules[a].steps)){var i=q[e.validationRules[a].fn];if(f=u(e.validationRules[a].params.value)?i.call(this,r,e.validationRules[a].params.value.call(this)):i.call(this,r,e.validationRules[a].params),n(f)){if(!f.result)return c=f.error?f.error:a,p=e.validationRules[a].params,void(f=f.result);f=!0}else if(!f)return c=a,void(p=e.validationRules[a].params)}}function v(e,r){if(!e||0===e.length)return!0;if(r&&r.length>0)for(var n in e)if(-1!==r.indexOf(e[n]))return!0;return!1}var f=!0,c=void 0,p=void 0,g=!1;return function(){var n,a,i=l(r);for(a=0;a<e.passiveDepends.length;a++)if(n=u(e.passiveDepends[a].value),n&&e.passiveDepends[a].value.call(this,o(y,e.passiveDepends[a].prop))||!n&&s(e.passiveDepends[a]))g=!0;else if(e.passiveDepends[a].mustBeValid)return void(f=!0);if(g&&!i)return c="required",void(f=!1);for(a=0;a<e.activeDepends.length;a++)if(n=u(e.activeDepends[a].value),n&&!e.activeDepends[a].value.call(this,o(y,e.activeDepends[a].prop))||!n&&!s(e.activeDepends[a]))return void(f=!0);e.global?d():e.required?v(t,e.requiredSteps)&&!i?(c="required",f=!1):d():i?d():f=!0}(),{validationResult:f,error:c,params:p}}function h(e,r,n,t){if(r){var a=o(y,n),i=g(r,a,t);i.validationResult===!1&&e.push({prop:n,value:a,error:i.error})}}function m(e,r,n){if(n)for(var t=0;t<n.length;t++)h(e,O[n[t]],n[t],r);else for(var a in O)h(e,O[a],a,r)}function R(e){var r=[];return m(r,e),r}function D(e,r){var n=[];return e&&m(n,r,e),n}function b(e,r){var n=[];if(e)for(var t=0;t<e.length;t++)m(n,r,T[e[t]].props);return n}var q,y=e,O={},T={},w={greaterThan:1,gt:1,greaterThanOrEqual:2,gte:2,lowerThan:3,lt:3,lowerThanOrEqual:4,lte:4,equal:5,eq:5,strictlyEqual:6,seq:6,different:7,dif:7,strictlyDifferent:8,sdif:8},S={rulemaker:p,validate:R,validateProps:D,validateParts:b,addRule:l,ar:l,deleteRule:s,dr:s,addValidationRule:d,avr:d,addValidationPart:v,avp:v,operand:w,op:w,replaceObject:c,validationPartExist:f,debug:r};return function(){q={},q.min=function(e,r){return e>=r.value},q.max=function(e,r){return e<=r.value},q.minLength=function(e,r){return e.length>=r.value},q.maxLength=function(e,r){return e.length<=r.value}}(),S}e.sovalid=r}(window);
//# sourceMappingURL=sovalid-1.min.js.map
