"use strict";!function(e){var r=function(){function e(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function t(e){if(void 0===e)return!1;var r=+e;return isNaN(r)?!!String(e).toLowerCase().replace(!1,""):!!r}function a(e){return"string"==typeof e}function i(e){return"function"==typeof e}function u(e,n,t){if(!n||!r.isString(n)||!n.trim().length>0)return void 0;var a=n.split("."),i=e;if(a&&a.length>1)for(var u in a)i=i[a[u]];else i=e[a[0]];return!i&&t?t:i}return{isObject:e,isPlainObject:n,getBool:t,isString:a,isFunction:i,get:u}}(),n=function(){function e(){console.log(":::RULES:::"),console.log(g),console.log(":::FUNCTIONS:::"),console.log(p),console.log(":::VALIDATION PARTS:::"),console.log(h)}function n(e){return e&&!Array.isArray(e)&&e.name&&(g[e.name]=e),R}function t(e){return e&&Array.isArray(e)&&e.forEach(function(e){n(e)}),R}function a(e){return delete g[e],R}function i(e,r){return e&&r&&(p[e]=r),R}function u(e,r){return e&&r&&(h[e]={props:r}),R}function o(e){return h[e]?!0:!1}function l(e,n,t,a){function i(e){var n=typeof e;return"boolean"!==n||null!==e&&void 0!==e?!("number"!==n&&"boolean"!==n&&(!e||r.isString(e)&&""===e.trim())):!1}function u(n){var t=r.get(e,n.prop);if("number"==typeof n.value&&(""===t||void 0===t||null===t))return!1;switch("boolean"==typeof n.value&&(t=r.getBool(t)),n.operand){case m.greaterThan:return t>n.value;case m.greaterThanOrEqual:return t>=n.value;case m.lowerThan:return t<n.value;case m.lowerThanOrEqual:return t<=n.value;case m.equal:return t==n.value;case m.strictlyEqual:return t===n.value;case m.different:return t!=n.value;case m.strictlyDifferent:default:return t!==n.value}}function o(){if(n.global||void 0!==t&&null!==t)for(var e in n.validationRules)if(n.validationRules.hasOwnProperty(e)&&l(a,n.validationRules[e].steps)){var i=p[n.validationRules[e].fn];if(s=r.isFunction(n.validationRules[e].params.value)?i.call(this,t,n.validationRules[e].params.value.call(this)):i.call(this,t,n.validationRules[e].params),r.isObject(s)){if(!s.result)return d=s.error?s.error:e,v=n.validationRules[e].params,void(s=s.result);s=!0}else if(!s)return d=e,void(v=n.validationRules[e].params)}}function l(e,r){if(!e||0===e.length)return!0;if(r&&r.length>0)for(var n in e)if(-1!==r.indexOf(e[n]))return!0;return!1}var s=!0,d=void 0,v=void 0,f=!1;return function(){var v,c,p=i(t);for(c=0;c<n.passiveDepends.length;c++)if(v=r.isFunction(n.passiveDepends[c].value),v&&n.passiveDepends[c].value.call(this,r.get(e,n.passiveDepends[c].prop))||!v&&u(n.passiveDepends[c]))f=!0;else if(n.passiveDepends[c].mustBeValid)return void(s=!0);if(f&&!p)return d="required",void(s=!1);for(c=0;c<n.activeDepends.length;c++)if(v=r.isFunction(n.activeDepends[c].value),v&&!n.activeDepends[c].value.call(this,r.get(e,n.activeDepends[c].prop))||!v&&!u(n.activeDepends[c]))return void(s=!0);n.global?o():n.required?l(a,n.requiredSteps)&&!p?(d="required",s=!1):o():p?o():s=!0}(),{validationResult:s,error:d,params:v}}function s(e,n,t,a){if(t){var i=r.get(e,t.prop),u=l(e,t,i,a);u.validationResult===!1&&n.push({prop:t.prop,value:i,error:u.error,params:u.params&&u.params.value?u.params.value:u.params})}}function d(e,r,n,t){if(t)for(var a=0;a<t.length;a++)s(e,r,g[t[a]],n);else for(var i in g)s(e,r,g[i],n)}function v(e,r){var n=[];return e&&d(e,n,r),n}function f(e,r,n){var t=[];return e&&r&&d(e,t,n,r),t}function c(e,r,n){var t=[];if(e&&r)for(var a=0;a<r.length;a++)d(e,t,n,h[r[a]].props);return t}var p,g={},h={},m={greaterThan:1,gt:1,greaterThanOrEqual:2,gte:2,lowerThan:3,lt:3,lowerThanOrEqual:4,lte:4,equal:5,eq:5,strictlyEqual:6,seq:6,different:7,dif:7,strictlyDifferent:8,sdif:8},R={validate:v,validateProps:f,validateParts:c,addRule:n,ar:n,addRules:t,ars:t,deleteRule:a,dr:a,addValidationRule:i,avr:i,addValidationPart:u,avp:u,operand:m,op:m,validationPartExist:o,debug:e};return function(){p={},p.min=function(e,r){return e>=r.value},p.max=function(e,r){return e<=r.value},p.minLength=function(e,r){return e.length>=r.value},p.maxLength=function(e,r){return e.length<=r.value}}(),R},t=function(){function e(e){return e&&(h=e,m=!1),b}function n(e,r){return i(),g.name=e,g.prop=r,R}function t(e){return e?(g=e,R):b}function a(){return(m||!h)&&(m=!1,h=[]),h.push(g),b}function i(){g={required:!1,global:!1,validationRules:{},activeDepends:[],passiveDepends:[]}}function u(){return i(),R}function o(){return i(),m=!0,h=void 0,b}function l(e,n,t){return g.validationRules[e]=r.isObject(n)&&r.isPlainObject(n)?{fn:e,params:n,steps:t}:{fn:e,params:{value:n},steps:t},R}function s(e){return delete g.validationRules[e],R}function d(e){return g.global=e,R}function v(e,r){return g.required=e,g.requiredSteps=r,R}function f(e,r,n){return g.activeDepends.push({prop:e,value:r,operand:n}),R}function c(e,r,n,t){return g.passiveDepends.push({prop:e,value:r,mustBeValid:n,operand:t}),R}function p(){return h?(h.push(g),m=!0,h):g}var g,h,m=!0,R={required:v,r:v,next:a,end:p,addValidation:l,av:l,deleteValidation:s,dv:s,addActiveDepends:f,aad:f,addPassiveDepends:c,apd:c,global:d,g:d,reset:u,resetWorld:o},b={newRule:n,modifyRule:t,resetWorld:o,startFrom:e};return b}();e.sovalid=n,e.ruleMaker=t,e.sovalidCommons=r}(window);
//# sourceMappingURL=sovalid-2.min.js.map
